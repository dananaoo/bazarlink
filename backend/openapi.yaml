openapi: 3.1.0
info:
  title: Supplier Consumer Platform API
  description: B2B platform for suppliers and institutional consumers
  version: 1.0.0
paths:
  /api/v1/auth/login:
    post:
      tags:
      - authentication
      summary: Login
      description: User login endpoint
      operationId: login_api_v1_auth_login_post
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Body_login_api_v1_auth_login_post'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Token'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/auth/me:
    get:
      tags:
      - authentication
      summary: Get Current User Info
      description: Get current user information
      operationId: get_current_user_info_api_v1_auth_me_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
      security:
      - Bearer: []
  /api/v1/auth/register-owner:
    post:
      tags:
      - authentication
      summary: Register Owner
      description: Register a new owner with supplier (Public endpoint)
      operationId: register_owner_api_v1_auth_register_owner_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OwnerRegistration'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/auth/register-consumer:
    post:
      tags:
      - authentication
      summary: Register Consumer
      description: Register a new consumer (restaurant/hotel) with user account (Public
        endpoint)
      operationId: register_consumer_api_v1_auth_register_consumer_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsumerRegistration'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/users/:
    post:
      tags:
      - users
      summary: Create User
      description: 'Create a new user (Owner or Manager)


        - Owner can create Managers and Sales Representatives

        - Manager can create only Sales Representatives'
      operationId: create_user_api_v1_users__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - users
      summary: Get Users
      description: Get list of users
      operationId: get_users_api_v1_users__get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
                title: Response Get Users Api V1 Users  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/users/{user_id}:
    get:
      tags:
      - users
      summary: Get User
      description: Get user by ID
      operationId: get_user_api_v1_users__user_id__get
      security:
      - Bearer: []
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
          title: User Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - users
      summary: Update User
      description: Update user
      operationId: update_user_api_v1_users__user_id__put
      security:
      - Bearer: []
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
          title: User Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - users
      summary: Delete User
      description: Delete a user (Owner can delete Managers/Sales Reps, Manager can
        delete Sales Reps)
      operationId: delete_user_api_v1_users__user_id__delete
      security:
      - Bearer: []
      parameters:
      - name: user_id
        in: path
        required: true
        schema:
          type: integer
          title: User Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/users/me:
    delete:
      tags:
      - users
      summary: Delete Self
      description: 'Delete own account (Consumer and Owner only)


        For Owners: Prevents deletion if there are other staff members (Managers/Sales
        Reps).

        You must transfer ownership first or delete other staff members.


        For Consumers: Deletes both User and Consumer records (cascade).'
      operationId: delete_self_api_v1_users_me_delete
      responses:
        '204':
          description: Successful Response
      security:
      - Bearer: []
  /api/v1/users/transfer-ownership:
    post:
      tags:
      - users
      summary: Transfer Ownership
      description: 'Transfer ownership from current owner to a Manager (Owner only)


        This allows the current owner to transfer their ownership to a Manager.

        After transfer:

        - The Manager becomes the new Owner

        - The old owner''s supplier_id is set to null

        - The old owner''s account is deleted'
      operationId: transfer_ownership_api_v1_users_transfer_ownership_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OwnershipTransferRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - Bearer: []
  /api/v1/suppliers/:
    post:
      tags:
      - suppliers
      summary: Create Supplier
      description: Create a new supplier (Owner only)
      operationId: create_supplier_api_v1_suppliers__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SupplierCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Supplier'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - suppliers
      summary: Get Suppliers
      description: Get list of suppliers
      operationId: get_suppliers_api_v1_suppliers__get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Supplier'
                title: Response Get Suppliers Api V1 Suppliers  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/suppliers/{supplier_id}:
    get:
      tags:
      - suppliers
      summary: Get Supplier
      description: Get supplier by ID
      operationId: get_supplier_api_v1_suppliers__supplier_id__get
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: path
        required: true
        schema:
          type: integer
          title: Supplier Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Supplier'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - suppliers
      summary: Update Supplier
      description: Update supplier (Owner/Manager only)
      operationId: update_supplier_api_v1_suppliers__supplier_id__put
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: path
        required: true
        schema:
          type: integer
          title: Supplier Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SupplierUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Supplier'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/consumers/:
    post:
      tags:
      - consumers
      summary: Create Consumer
      description: 'Create a new consumer (Consumer role only)


        Note: Normally, consumers are created automatically during registration

        via /api/v1/auth/register-consumer. This endpoint is for edge cases only.'
      operationId: create_consumer_api_v1_consumers__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsumerCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Consumer'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - consumers
      summary: Get Consumers
      description: Get list of consumers
      operationId: get_consumers_api_v1_consumers__get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Consumer'
                title: Response Get Consumers Api V1 Consumers  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/consumers/{consumer_id}:
    get:
      tags:
      - consumers
      summary: Get Consumer
      description: Get consumer by ID
      operationId: get_consumer_api_v1_consumers__consumer_id__get
      security:
      - Bearer: []
      parameters:
      - name: consumer_id
        in: path
        required: true
        schema:
          type: integer
          title: Consumer Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Consumer'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - consumers
      summary: Update Consumer
      description: Update consumer (Consumer can only update their own record)
      operationId: update_consumer_api_v1_consumers__consumer_id__put
      security:
      - Bearer: []
      parameters:
      - name: consumer_id
        in: path
        required: true
        schema:
          type: integer
          title: Consumer Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsumerUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Consumer'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/categories/:
    post:
      tags:
      - categories
      summary: Create Category
      description: Create a new category (Owner/Manager only)
      operationId: create_category_api_v1_categories__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - categories
      summary: Get Categories
      description: Get list of categories
      operationId: get_categories_api_v1_categories__get
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: query
        required: false
        schema:
          type: integer
          title: Supplier Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
                title: Response Get Categories Api V1 Categories  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/categories/{category_id}:
    get:
      tags:
      - categories
      summary: Get Category
      description: Get category by ID
      operationId: get_category_api_v1_categories__category_id__get
      security:
      - Bearer: []
      parameters:
      - name: category_id
        in: path
        required: true
        schema:
          type: integer
          title: Category Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - categories
      summary: Update Category
      description: Update category (Owner/Manager only)
      operationId: update_category_api_v1_categories__category_id__put
      security:
      - Bearer: []
      parameters:
      - name: category_id
        in: path
        required: true
        schema:
          type: integer
          title: Category Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoryUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - categories
      summary: Delete Category
      description: Delete category (Owner/Manager only)
      operationId: delete_category_api_v1_categories__category_id__delete
      security:
      - Bearer: []
      parameters:
      - name: category_id
        in: path
        required: true
        schema:
          type: integer
          title: Category Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/products/:
    post:
      tags:
      - products
      summary: Create Product
      description: Create a new product (Owner/Manager only)
      operationId: create_product_api_v1_products__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - products
      summary: Get Products
      description: Get list of products
      operationId: get_products_api_v1_products__get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      - name: supplier_id
        in: query
        required: false
        schema:
          type: integer
          title: Supplier Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
                title: Response Get Products Api V1 Products  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/products/{product_id}:
    get:
      tags:
      - products
      summary: Get Product
      description: Get product by ID
      operationId: get_product_api_v1_products__product_id__get
      security:
      - Bearer: []
      parameters:
      - name: product_id
        in: path
        required: true
        schema:
          type: integer
          title: Product Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - products
      summary: Update Product
      description: Update product (Owner/Manager only)
      operationId: update_product_api_v1_products__product_id__put
      security:
      - Bearer: []
      parameters:
      - name: product_id
        in: path
        required: true
        schema:
          type: integer
          title: Product Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - products
      summary: Delete Product
      description: Delete product (Owner/Manager only)
      operationId: delete_product_api_v1_products__product_id__delete
      security:
      - Bearer: []
      parameters:
      - name: product_id
        in: path
        required: true
        schema:
          type: integer
          title: Product Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/:
    post:
      tags:
      - links
      summary: Create Link
      description: Create a link request (Consumer or Supplier)
      operationId: create_link_api_v1_links__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LinkCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Link'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - links
      summary: Get Links
      description: Get list of links
      operationId: get_links_api_v1_links__get
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: query
        required: false
        schema:
          type: integer
          title: Supplier Id
      - name: consumer_id
        in: query
        required: false
        schema:
          type: integer
          title: Consumer Id
      - name: status
        in: query
        required: false
        schema:
          allOf:
          - $ref: '#/components/schemas/LinkStatus'
          title: Status
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Link'
                title: Response Get Links Api V1 Links  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/{link_id}:
    get:
      tags:
      - links
      summary: Get Link
      description: Get link by ID
      operationId: get_link_api_v1_links__link_id__get
      security:
      - Bearer: []
      parameters:
      - name: link_id
        in: path
        required: true
        schema:
          type: integer
          title: Link Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Link'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - links
      summary: Update Link
      description: Update link status (Supplier Owner/Manager only for approval)
      operationId: update_link_api_v1_links__link_id__put
      security:
      - Bearer: []
      parameters:
      - name: link_id
        in: path
        required: true
        schema:
          type: integer
          title: Link Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LinkUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Link'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/{link_id}/assign:
    post:
      tags:
      - links
      summary: Assign Chat
      description: Assign chat to current sales representative (Sales Rep only)
      operationId: assign_chat_api_v1_links__link_id__assign_post
      security:
      - Bearer: []
      parameters:
      - name: link_id
        in: path
        required: true
        schema:
          type: integer
          title: Link Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Link'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/{link_id}/unassign:
    post:
      tags:
      - links
      summary: Unassign Chat
      description: Unassign chat (Sales Rep who assigned it, or Manager/Owner)
      operationId: unassign_chat_api_v1_links__link_id__unassign_post
      security:
      - Bearer: []
      parameters:
      - name: link_id
        in: path
        required: true
        schema:
          type: integer
          title: Link Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Link'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/chats/my:
    get:
      tags:
      - links
      summary: Get My Chats
      description: Get chats assigned to current sales representative
      operationId: get_my_chats_api_v1_links_chats_my_get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Link'
                title: Response Get My Chats Api V1 Links Chats My Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/chats/other:
    get:
      tags:
      - links
      summary: Get Other Chats
      description: Get chats from same supplier that are not assigned to current sales
        rep
      operationId: get_other_chats_api_v1_links_chats_other_get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Link'
                title: Response Get Other Chats Api V1 Links Chats Other Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/links/chats/consumer:
    get:
      tags:
      - links
      summary: Get Consumer Chats
      description: Get all accepted chats for current consumer
      operationId: get_consumer_chats_api_v1_links_chats_consumer_get
      security:
      - Bearer: []
      parameters:
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Link'
                title: Response Get Consumer Chats Api V1 Links Chats Consumer Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/orders/:
    post:
      tags:
      - orders
      summary: Create Order
      description: Create a new order (Consumer only)
      operationId: create_order_api_v1_orders__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - orders
      summary: Get Orders
      description: Get list of orders
      operationId: get_orders_api_v1_orders__get
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: query
        required: false
        schema:
          type: integer
          title: Supplier Id
      - name: consumer_id
        in: query
        required: false
        schema:
          type: integer
          title: Consumer Id
      - name: status
        in: query
        required: false
        schema:
          allOf:
          - $ref: '#/components/schemas/OrderStatus'
          title: Status
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Order'
                title: Response Get Orders Api V1 Orders  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/orders/{order_id}:
    get:
      tags:
      - orders
      summary: Get Order
      description: Get order by ID
      operationId: get_order_api_v1_orders__order_id__get
      security:
      - Bearer: []
      parameters:
      - name: order_id
        in: path
        required: true
        schema:
          type: integer
          title: Order Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - orders
      summary: Update Order
      description: Update order (Supplier Owner/Manager/Sales Rep can accept/reject
        and update)
      operationId: update_order_api_v1_orders__order_id__put
      security:
      - Bearer: []
      parameters:
      - name: order_id
        in: path
        required: true
        schema:
          type: integer
          title: Order Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - orders
      summary: Delete Order
      description: Delete order (Consumer can only delete their own orders if status
        is PENDING)
      operationId: delete_order_api_v1_orders__order_id__delete
      security:
      - Bearer: []
      parameters:
      - name: order_id
        in: path
        required: true
        schema:
          type: integer
          title: Order Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/messages/:
    post:
      tags:
      - messages
      summary: Create Message
      description: Create a new message (Consumer, Sales Rep, Manager, or Owner)
      operationId: create_message_api_v1_messages__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MessageCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - messages
      summary: Get Messages
      description: Get messages for a link (Consumer or Sales Rep)
      operationId: get_messages_api_v1_messages__get
      security:
      - Bearer: []
      parameters:
      - name: link_id
        in: query
        required: true
        schema:
          type: integer
          title: Link Id
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Message'
                title: Response Get Messages Api V1 Messages  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/messages/{message_id}/read:
    put:
      tags:
      - messages
      summary: Mark Message Read
      description: Mark a message as read
      operationId: mark_message_read_api_v1_messages__message_id__read_put
      security:
      - Bearer: []
      parameters:
      - name: message_id
        in: path
        required: true
        schema:
          type: integer
          title: Message Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/complaints/:
    post:
      tags:
      - complaints
      summary: Create Complaint
      description: 'Create a complaint (Consumer only)


        Automatically creates first message in the chat with complaint details.

        Requires an ACCEPTED link (not BLOCKED) between consumer and supplier.'
      operationId: create_complaint_api_v1_complaints__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ComplaintCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Complaint'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - complaints
      summary: Get Complaints
      description: Get complaints
      operationId: get_complaints_api_v1_complaints__get
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: query
        required: false
        schema:
          type: integer
          title: Supplier Id
      - name: consumer_id
        in: query
        required: false
        schema:
          type: integer
          title: Consumer Id
      - name: status
        in: query
        required: false
        schema:
          allOf:
          - $ref: '#/components/schemas/ComplaintStatus'
          title: Status
      - name: level
        in: query
        required: false
        schema:
          allOf:
          - $ref: '#/components/schemas/ComplaintLevel'
          title: Level
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Complaint'
                title: Response Get Complaints Api V1 Complaints  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/complaints/{complaint_id}:
    get:
      tags:
      - complaints
      summary: Get Complaint
      description: Get complaint by ID
      operationId: get_complaint_api_v1_complaints__complaint_id__get
      security:
      - Bearer: []
      parameters:
      - name: complaint_id
        in: path
        required: true
        schema:
          type: integer
          title: Complaint Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Complaint'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - complaints
      summary: Update Complaint
      description: Update complaint (Sales Rep, Manager, or Owner)
      operationId: update_complaint_api_v1_complaints__complaint_id__put
      security:
      - Bearer: []
      parameters:
      - name: complaint_id
        in: path
        required: true
        schema:
          type: integer
          title: Complaint Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ComplaintUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Complaint'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/complaints/{complaint_id}/escalate:
    post:
      tags:
      - complaints
      summary: Escalate Complaint
      description: Escalate complaint to manager (Sales Rep only)
      operationId: escalate_complaint_api_v1_complaints__complaint_id__escalate_post
      security:
      - Bearer: []
      parameters:
      - name: complaint_id
        in: path
        required: true
        schema:
          type: integer
          title: Complaint Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ComplaintEscalate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Complaint'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/incidents/:
    post:
      tags:
      - incidents
      summary: Create Incident
      description: Create an incident (Manager and Owner only)
      operationId: create_incident_api_v1_incidents__post
      security:
      - Bearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IncidentCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Incident'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - incidents
      summary: Get Incidents
      description: Get incidents (Manager and Owner only - escalated problems)
      operationId: get_incidents_api_v1_incidents__get
      security:
      - Bearer: []
      parameters:
      - name: supplier_id
        in: query
        required: false
        schema:
          type: integer
          title: Supplier Id
      - name: status
        in: query
        required: false
        schema:
          allOf:
          - $ref: '#/components/schemas/IncidentStatus'
          title: Status
      - name: assigned_to_user_id
        in: query
        required: false
        schema:
          type: integer
          title: Assigned To User Id
      - name: skip
        in: query
        required: false
        schema:
          type: integer
          default: 0
          title: Skip
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          default: 100
          title: Limit
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Incident'
                title: Response Get Incidents Api V1 Incidents  Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/incidents/{incident_id}:
    get:
      tags:
      - incidents
      summary: Get Incident
      description: Get incident by ID (Manager and Owner only)
      operationId: get_incident_api_v1_incidents__incident_id__get
      security:
      - Bearer: []
      parameters:
      - name: incident_id
        in: path
        required: true
        schema:
          type: integer
          title: Incident Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Incident'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    put:
      tags:
      - incidents
      summary: Update Incident
      description: Update incident (Manager and Owner only)
      operationId: update_incident_api_v1_incidents__incident_id__put
      security:
      - Bearer: []
      parameters:
      - name: incident_id
        in: path
        required: true
        schema:
          type: integer
          title: Incident Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IncidentUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Incident'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/uploads/upload:
    post:
      tags:
      - uploads
      summary: Upload File
      description: 'Upload a file for chat attachment


        - **file**: The file to upload (image, document, or audio)

        - **link_id**: Optional link ID to verify access (if provided)


        Returns the file URL that can be used in messages.'
      operationId: upload_file_api_v1_uploads_upload_post
      security:
      - Bearer: []
      parameters:
      - name: link_id
        in: query
        required: false
        schema:
          anyOf:
          - type: integer
          - type: 'null'
          title: Link Id
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Body_upload_file_api_v1_uploads_upload_post'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v1/uploads/files/{category}/{filename}:
    get:
      tags:
      - uploads
      summary: Get File
      description: 'Retrieve an uploaded file


        - **category**: File category (images, audio, documents, videos)

        - **filename**: The filename to retrieve'
      operationId: get_file_api_v1_uploads_files__category___filename__get
      security:
      - Bearer: []
      parameters:
      - name: category
        in: path
        required: true
        schema:
          type: string
          title: Category
      - name: filename
        in: path
        required: true
        schema:
          type: string
          title: Filename
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /:
    get:
      summary: Root
      description: Root endpoint
      operationId: root__get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /health:
    get:
      summary: Health Check
      description: Health check endpoint
      operationId: health_check_health_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
components:
  schemas:
    Body_login_api_v1_auth_login_post:
      properties:
        grant_type:
          anyOf:
          - type: string
            pattern: password
          - type: 'null'
          title: Grant Type
        username:
          type: string
          title: Username
        password:
          type: string
          title: Password
        scope:
          type: string
          title: Scope
          default: ''
        client_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Client Id
        client_secret:
          anyOf:
          - type: string
          - type: 'null'
          title: Client Secret
      type: object
      required:
      - username
      - password
      title: Body_login_api_v1_auth_login_post
    Body_upload_file_api_v1_uploads_upload_post:
      properties:
        file:
          type: string
          format: binary
          title: File
      type: object
      required:
      - file
      title: Body_upload_file_api_v1_uploads_upload_post
    Category:
      properties:
        name:
          type: string
          title: Name
        id:
          type: integer
          title: Id
        supplier_id:
          type: integer
          title: Supplier Id
        is_active:
          type: boolean
          title: Is Active
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
      type: object
      required:
      - name
      - id
      - supplier_id
      - is_active
      - created_at
      title: Category
      description: Category schema for API responses
    CategoryCreate:
      properties:
        name:
          type: string
          title: Name
        supplier_id:
          type: integer
          title: Supplier Id
      type: object
      required:
      - name
      - supplier_id
      title: CategoryCreate
      description: Schema for creating a category
    CategoryUpdate:
      properties:
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
        is_active:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Active
      type: object
      title: CategoryUpdate
      description: Schema for updating a category
    Complaint:
      properties:
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        order_id:
          type: integer
          title: Order Id
        id:
          type: integer
          title: Id
        consumer_id:
          type: integer
          title: Consumer Id
        supplier_id:
          type: integer
          title: Supplier Id
        link_id:
          type: integer
          title: Link Id
        status:
          $ref: '#/components/schemas/ComplaintStatus'
        level:
          $ref: '#/components/schemas/ComplaintLevel'
        escalated_to_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Escalated To User Id
        escalated_by_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Escalated By User Id
        resolution:
          anyOf:
          - type: string
          - type: 'null'
          title: Resolution
        resolved_by_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Resolved By User Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
        resolved_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Resolved At
      type: object
      required:
      - title
      - description
      - order_id
      - id
      - consumer_id
      - supplier_id
      - link_id
      - status
      - level
      - created_at
      title: Complaint
      description: Complaint schema for API responses
    ComplaintCreate:
      properties:
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        order_id:
          type: integer
          title: Order Id
      type: object
      required:
      - title
      - description
      - order_id
      title: ComplaintCreate
      description: Schema for creating a complaint
    ComplaintEscalate:
      properties:
        escalated_to_user_id:
          type: integer
          title: Escalated To User Id
        note:
          anyOf:
          - type: string
          - type: 'null'
          title: Note
      type: object
      required:
      - escalated_to_user_id
      title: ComplaintEscalate
      description: Schema for escalating a complaint
    ComplaintLevel:
      type: string
      enum:
      - sales
      - manager
      - owner
      title: ComplaintLevel
      description: Complaint escalation level
    ComplaintStatus:
      type: string
      enum:
      - open
      - in_progress
      - resolved
      - escalated
      title: ComplaintStatus
      description: Complaint status enumeration
    ComplaintUpdate:
      properties:
        status:
          anyOf:
          - $ref: '#/components/schemas/ComplaintStatus'
          - type: 'null'
        resolution:
          anyOf:
          - type: string
          - type: 'null'
          title: Resolution
        level:
          anyOf:
          - $ref: '#/components/schemas/ComplaintLevel'
          - type: 'null'
      type: object
      title: ComplaintUpdate
      description: Schema for updating a complaint
    Consumer:
      properties:
        business_name:
          type: string
          title: Business Name
        legal_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Legal Name
        tax_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Tax Id
        email:
          type: string
          format: email
          title: Email
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        address:
          anyOf:
          - type: string
          - type: 'null'
          title: Address
        city:
          anyOf:
          - type: string
          - type: 'null'
          title: City
        country:
          type: string
          title: Country
          default: KZ
        business_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Business Type
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        id:
          type: integer
          title: Id
        is_active:
          type: boolean
          title: Is Active
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
      type: object
      required:
      - business_name
      - email
      - id
      - is_active
      - created_at
      title: Consumer
      description: Consumer schema for API responses
    ConsumerCreate:
      properties:
        business_name:
          type: string
          title: Business Name
        legal_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Legal Name
        tax_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Tax Id
        email:
          type: string
          format: email
          title: Email
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        address:
          anyOf:
          - type: string
          - type: 'null'
          title: Address
        city:
          anyOf:
          - type: string
          - type: 'null'
          title: City
        country:
          type: string
          title: Country
          default: KZ
        business_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Business Type
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
      type: object
      required:
      - business_name
      - email
      title: ConsumerCreate
      description: Schema for creating a consumer
    ConsumerRegistration:
      properties:
        email:
          type: string
          format: email
          title: Email
        password:
          type: string
          title: Password
        full_name:
          type: string
          title: Full Name
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        language:
          type: string
          title: Language
          default: en
        consumer:
          $ref: '#/components/schemas/ConsumerCreate'
      type: object
      required:
      - email
      - password
      - full_name
      - consumer
      title: ConsumerRegistration
      description: Schema for consumer registration
    ConsumerUpdate:
      properties:
        business_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Business Name
        legal_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Legal Name
        email:
          anyOf:
          - type: string
            format: email
          - type: 'null'
          title: Email
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        address:
          anyOf:
          - type: string
          - type: 'null'
          title: Address
        city:
          anyOf:
          - type: string
          - type: 'null'
          title: City
        business_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Business Type
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        is_active:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Active
      type: object
      title: ConsumerUpdate
      description: Schema for updating a consumer
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    Incident:
      properties:
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        order_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Order Id
        id:
          type: integer
          title: Id
        consumer_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Consumer Id
        supplier_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Supplier Id
        status:
          $ref: '#/components/schemas/IncidentStatus'
        assigned_to_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Assigned To User Id
        created_by_user_id:
          type: integer
          title: Created By User Id
        resolution:
          anyOf:
          - type: string
          - type: 'null'
          title: Resolution
        resolved_by_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Resolved By User Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
        resolved_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Resolved At
      type: object
      required:
      - title
      - description
      - id
      - status
      - created_by_user_id
      - created_at
      title: Incident
      description: Incident schema for API responses
    IncidentCreate:
      properties:
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        order_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Order Id
        assigned_to_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Assigned To User Id
      type: object
      required:
      - title
      - description
      title: IncidentCreate
      description: Schema for creating an incident
    IncidentStatus:
      type: string
      enum:
      - open
      - in_progress
      - resolved
      title: IncidentStatus
      description: Incident status enumeration
    IncidentUpdate:
      properties:
        status:
          anyOf:
          - $ref: '#/components/schemas/IncidentStatus'
          - type: 'null'
        resolution:
          anyOf:
          - type: string
          - type: 'null'
          title: Resolution
        assigned_to_user_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Assigned To User Id
      type: object
      title: IncidentUpdate
      description: Schema for updating an incident
    Link:
      properties:
        supplier_id:
          type: integer
          title: Supplier Id
        consumer_id:
          type: integer
          title: Consumer Id
        request_message:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Message
        id:
          type: integer
          title: Id
        status:
          $ref: '#/components/schemas/LinkStatus'
        requested_by_consumer:
          type: boolean
          title: Requested By Consumer
        assigned_sales_rep_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Assigned Sales Rep Id
        requested_at:
          type: string
          format: date-time
          title: Requested At
        responded_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Responded At
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
        has_active_complaint:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Has Active Complaint
      type: object
      required:
      - supplier_id
      - consumer_id
      - id
      - status
      - requested_by_consumer
      - requested_at
      - created_at
      title: Link
      description: Link schema for API responses
    LinkCreate:
      properties:
        supplier_id:
          type: integer
          title: Supplier Id
        consumer_id:
          type: integer
          title: Consumer Id
        request_message:
          anyOf:
          - type: string
          - type: 'null'
          title: Request Message
      type: object
      required:
      - supplier_id
      - consumer_id
      title: LinkCreate
      description: Schema for creating a link request
    LinkStatus:
      type: string
      enum:
      - pending
      - accepted
      - removed
      - blocked
      title: LinkStatus
      description: Link status enumeration
    LinkUpdate:
      properties:
        status:
          anyOf:
          - $ref: '#/components/schemas/LinkStatus'
          - type: 'null'
        assigned_sales_rep_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Assigned Sales Rep Id
      type: object
      title: LinkUpdate
      description: Schema for updating a link
    Message:
      properties:
        content:
          anyOf:
          - type: string
          - type: 'null'
          title: Content
        message_type:
          type: string
          title: Message Type
          default: text
        attachment_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Attachment Url
        attachment_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Attachment Type
        product_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Product Id
        order_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Order Id
        id:
          type: integer
          title: Id
        link_id:
          type: integer
          title: Link Id
        sender_id:
          type: integer
          title: Sender Id
        receiver_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Receiver Id
        sales_rep_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Sales Rep Id
        is_read:
          type: boolean
          title: Is Read
        read_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Read At
        created_at:
          type: string
          format: date-time
          title: Created At
      type: object
      required:
      - id
      - link_id
      - sender_id
      - is_read
      - created_at
      title: Message
      description: Message schema for API responses
    MessageCreate:
      properties:
        content:
          anyOf:
          - type: string
          - type: 'null'
          title: Content
        message_type:
          type: string
          title: Message Type
          default: text
        attachment_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Attachment Url
        attachment_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Attachment Type
        product_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Product Id
        order_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Order Id
        link_id:
          type: integer
          title: Link Id
        receiver_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Receiver Id
      type: object
      required:
      - link_id
      title: MessageCreate
      description: Schema for creating a message
    Order:
      properties:
        supplier_id:
          type: integer
          title: Supplier Id
        consumer_id:
          type: integer
          title: Consumer Id
        delivery_method:
          anyOf:
          - type: string
          - type: 'null'
          title: Delivery Method
        delivery_address:
          anyOf:
          - type: string
          - type: 'null'
          title: Delivery Address
        delivery_date:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Delivery Date
        notes:
          anyOf:
          - type: string
          - type: 'null'
          title: Notes
        id:
          type: integer
          title: Id
        order_number:
          type: string
          title: Order Number
        status:
          $ref: '#/components/schemas/OrderStatus'
        subtotal:
          type: string
          title: Subtotal
        total:
          type: string
          title: Total
        currency:
          type: string
          title: Currency
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
        accepted_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Accepted At
        completed_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Completed At
        items:
          items:
            $ref: '#/components/schemas/OrderItem'
          type: array
          title: Items
          default: []
      type: object
      required:
      - supplier_id
      - consumer_id
      - id
      - order_number
      - status
      - subtotal
      - total
      - currency
      - created_at
      title: Order
      description: Order schema for API responses
    OrderCreate:
      properties:
        supplier_id:
          type: integer
          title: Supplier Id
        consumer_id:
          type: integer
          title: Consumer Id
        delivery_method:
          anyOf:
          - type: string
          - type: 'null'
          title: Delivery Method
        delivery_address:
          anyOf:
          - type: string
          - type: 'null'
          title: Delivery Address
        delivery_date:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Delivery Date
        notes:
          anyOf:
          - type: string
          - type: 'null'
          title: Notes
        items:
          items:
            $ref: '#/components/schemas/OrderItemCreate'
          type: array
          title: Items
      type: object
      required:
      - supplier_id
      - consumer_id
      - items
      title: OrderCreate
      description: Schema for creating an order
    OrderItem:
      properties:
        product_id:
          type: integer
          title: Product Id
        quantity:
          type: string
          title: Quantity
        unit_price:
          type: string
          title: Unit Price
        total_price:
          type: string
          title: Total Price
        id:
          type: integer
          title: Id
        order_id:
          type: integer
          title: Order Id
        created_at:
          type: string
          format: date-time
          title: Created At
      type: object
      required:
      - product_id
      - quantity
      - unit_price
      - total_price
      - id
      - order_id
      - created_at
      title: OrderItem
      description: Order item schema for API responses
    OrderItemCreate:
      properties:
        product_id:
          type: integer
          title: Product Id
        quantity:
          anyOf:
          - type: number
          - type: string
          title: Quantity
      type: object
      required:
      - product_id
      - quantity
      title: OrderItemCreate
      description: Schema for creating an order item
    OrderStatus:
      type: string
      enum:
      - pending
      - accepted
      - rejected
      - in_progress
      - completed
      - cancelled
      title: OrderStatus
      description: Order status enumeration
    OrderUpdate:
      properties:
        status:
          anyOf:
          - $ref: '#/components/schemas/OrderStatus'
          - type: 'null'
        delivery_method:
          anyOf:
          - type: string
          - type: 'null'
          title: Delivery Method
        delivery_address:
          anyOf:
          - type: string
          - type: 'null'
          title: Delivery Address
        delivery_date:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Delivery Date
        notes:
          anyOf:
          - type: string
          - type: 'null'
          title: Notes
      type: object
      title: OrderUpdate
      description: Schema for updating an order
    OwnerRegistration:
      properties:
        email:
          type: string
          format: email
          title: Email
        password:
          type: string
          title: Password
        full_name:
          type: string
          title: Full Name
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        language:
          type: string
          title: Language
          default: en
        supplier:
          $ref: '#/components/schemas/SupplierCreate'
      type: object
      required:
      - email
      - password
      - full_name
      - supplier
      title: OwnerRegistration
      description: Schema for owner registration
    OwnershipTransferRequest:
      properties:
        new_owner_user_id:
          type: integer
          title: New Owner User Id
      type: object
      required:
      - new_owner_user_id
      title: OwnershipTransferRequest
      description: Schema for ownership transfer request
    Product:
      properties:
        name:
          type: string
          title: Name
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        sku:
          anyOf:
          - type: string
          - type: 'null'
          title: Sku
        category_id:
          type: integer
          title: Category Id
        price:
          type: string
          title: Price
        discount_price:
          anyOf:
          - type: string
          - type: 'null'
          title: Discount Price
        currency:
          type: string
          title: Currency
          default: KZT
        stock_quantity:
          type: string
          title: Stock Quantity
          default: '0'
        unit:
          allOf:
          - $ref: '#/components/schemas/ProductUnit'
          default: kg
        min_order_quantity:
          type: string
          title: Min Order Quantity
          default: '1'
        lead_time_days:
          anyOf:
          - type: integer
          - type: 'null'
          title: Lead Time Days
        image_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Image Url
        id:
          type: integer
          title: Id
        supplier_id:
          type: integer
          title: Supplier Id
        is_available:
          type: boolean
          title: Is Available
        is_active:
          type: boolean
          title: Is Active
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
      type: object
      required:
      - name
      - category_id
      - price
      - id
      - supplier_id
      - is_available
      - is_active
      - created_at
      title: Product
      description: Product schema for API responses
    ProductCreate:
      properties:
        name:
          type: string
          title: Name
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        sku:
          anyOf:
          - type: string
          - type: 'null'
          title: Sku
        category_id:
          type: integer
          title: Category Id
        price:
          anyOf:
          - type: number
          - type: string
          title: Price
        discount_price:
          anyOf:
          - type: number
          - type: string
          - type: 'null'
          title: Discount Price
        currency:
          type: string
          title: Currency
          default: KZT
        stock_quantity:
          anyOf:
          - type: number
          - type: string
          title: Stock Quantity
          default: '0'
        unit:
          allOf:
          - $ref: '#/components/schemas/ProductUnit'
          default: kg
        min_order_quantity:
          anyOf:
          - type: number
          - type: string
          title: Min Order Quantity
          default: '1'
        lead_time_days:
          anyOf:
          - type: integer
          - type: 'null'
          title: Lead Time Days
        image_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Image Url
        supplier_id:
          type: integer
          title: Supplier Id
      type: object
      required:
      - name
      - category_id
      - price
      - supplier_id
      title: ProductCreate
      description: Schema for creating a product
    ProductUnit:
      type: string
      enum:
      - kg
      - g
      - l
      - ml
      - piece
      - box
      - pack
      title: ProductUnit
      description: Product unit types
    ProductUpdate:
      properties:
        name:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        sku:
          anyOf:
          - type: string
          - type: 'null'
          title: Sku
        category_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Category Id
        price:
          anyOf:
          - type: number
          - type: string
          - type: 'null'
          title: Price
        discount_price:
          anyOf:
          - type: number
          - type: string
          - type: 'null'
          title: Discount Price
        stock_quantity:
          anyOf:
          - type: number
          - type: string
          - type: 'null'
          title: Stock Quantity
        unit:
          anyOf:
          - $ref: '#/components/schemas/ProductUnit'
          - type: 'null'
        min_order_quantity:
          anyOf:
          - type: number
          - type: string
          - type: 'null'
          title: Min Order Quantity
        is_available:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Available
        is_active:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Active
        lead_time_days:
          anyOf:
          - type: integer
          - type: 'null'
          title: Lead Time Days
        image_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Image Url
      type: object
      title: ProductUpdate
      description: Schema for updating a product
    Supplier:
      properties:
        company_name:
          type: string
          title: Company Name
        legal_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Legal Name
        tax_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Tax Id
        email:
          type: string
          format: email
          title: Email
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        address:
          anyOf:
          - type: string
          - type: 'null'
          title: Address
        city:
          anyOf:
          - type: string
          - type: 'null'
          title: City
        country:
          type: string
          title: Country
          default: KZ
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        website:
          anyOf:
          - type: string
          - type: 'null'
          title: Website
        delivery_available:
          type: boolean
          title: Delivery Available
          default: true
        pickup_available:
          type: boolean
          title: Pickup Available
          default: true
        lead_time_days:
          type: integer
          title: Lead Time Days
          default: 1
        id:
          type: integer
          title: Id
        verification_status:
          $ref: '#/components/schemas/VerificationStatus'
        is_active:
          type: boolean
          title: Is Active
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
      type: object
      required:
      - company_name
      - email
      - id
      - verification_status
      - is_active
      - created_at
      title: Supplier
      description: Supplier schema for API responses
    SupplierCreate:
      properties:
        company_name:
          type: string
          title: Company Name
        legal_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Legal Name
        tax_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Tax Id
        email:
          type: string
          format: email
          title: Email
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        address:
          anyOf:
          - type: string
          - type: 'null'
          title: Address
        city:
          anyOf:
          - type: string
          - type: 'null'
          title: City
        country:
          type: string
          title: Country
          default: KZ
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        website:
          anyOf:
          - type: string
          - type: 'null'
          title: Website
        delivery_available:
          type: boolean
          title: Delivery Available
          default: true
        pickup_available:
          type: boolean
          title: Pickup Available
          default: true
        lead_time_days:
          type: integer
          title: Lead Time Days
          default: 1
      type: object
      required:
      - company_name
      - email
      title: SupplierCreate
      description: Schema for creating a supplier
    SupplierUpdate:
      properties:
        company_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Company Name
        legal_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Legal Name
        email:
          anyOf:
          - type: string
            format: email
          - type: 'null'
          title: Email
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        address:
          anyOf:
          - type: string
          - type: 'null'
          title: Address
        city:
          anyOf:
          - type: string
          - type: 'null'
          title: City
        description:
          anyOf:
          - type: string
          - type: 'null'
          title: Description
        website:
          anyOf:
          - type: string
          - type: 'null'
          title: Website
        delivery_available:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Delivery Available
        pickup_available:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Pickup Available
        lead_time_days:
          anyOf:
          - type: integer
          - type: 'null'
          title: Lead Time Days
        is_active:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Active
      type: object
      title: SupplierUpdate
      description: Schema for updating a supplier
    Token:
      properties:
        access_token:
          type: string
          title: Access Token
        token_type:
          type: string
          title: Token Type
          default: bearer
      type: object
      required:
      - access_token
      title: Token
      description: Token schema
    User:
      properties:
        email:
          type: string
          format: email
          title: Email
        full_name:
          type: string
          title: Full Name
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        language:
          type: string
          title: Language
          default: en
        id:
          type: integer
          title: Id
        role:
          $ref: '#/components/schemas/UserRole'
        is_active:
          type: boolean
          title: Is Active
        supplier_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Supplier Id
        consumer_id:
          anyOf:
          - type: integer
          - type: 'null'
          title: Consumer Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Updated At
      type: object
      required:
      - email
      - full_name
      - id
      - role
      - is_active
      - created_at
      title: User
      description: User schema for API responses
    UserCreate:
      properties:
        email:
          type: string
          format: email
          title: Email
        full_name:
          type: string
          title: Full Name
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        language:
          type: string
          title: Language
          default: en
        password:
          type: string
          title: Password
        role:
          $ref: '#/components/schemas/UserRole'
      type: object
      required:
      - email
      - full_name
      - password
      - role
      title: UserCreate
      description: Schema for creating a user
    UserRole:
      type: string
      enum:
      - consumer
      - owner
      - manager
      - sales_representative
      title: UserRole
      description: User role enumeration
    UserUpdate:
      properties:
        full_name:
          anyOf:
          - type: string
          - type: 'null'
          title: Full Name
        phone:
          anyOf:
          - type: string
          - type: 'null'
          title: Phone
        language:
          anyOf:
          - type: string
          - type: 'null'
          title: Language
        is_active:
          anyOf:
          - type: boolean
          - type: 'null'
          title: Is Active
      type: object
      title: UserUpdate
      description: Schema for updating a user
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
    VerificationStatus:
      type: string
      enum:
      - pending
      - verified
      - rejected
      title: VerificationStatus
      description: Supplier verification status
  securitySchemes:
    Bearer:
      type: oauth2
      description: Enter your email as username and password. Leave client_id and
        client_secret empty.
      flows:
        password:
          scopes: {}
          tokenUrl: /api/v1/auth/login
